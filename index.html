<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<title>Moscow Parking — MapLibre</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css" rel="stylesheet">
<style>
html,body,#map{height:100%;width:100%;margin:0;padding:0;background:#0b0b0b}
.panel{position:fixed;z-index:1200;background:rgba(20,22,24,.88);color:#eaeef2;border:1px solid rgba(255,255,255,.14);border-radius:14px;box-shadow:0 8px 28px rgba(0,0,0,.35);backdrop-filter:blur(6px);padding:10px 12px;font:14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Arial}
.panel.compact{padding:0}
.panel .hdr{padding:10px 12px;font-weight:700;cursor:pointer}
.panel .body{padding:8px 12px 12px}
.panel label{display:block;margin:10px 0 6px;opacity:.9}
.panel select,.panel input[type="range"]{width:100%;background:rgba(255,255,255,.06);color:#eaeef2;border:1px solid rgba(255,255,255,.14);border-radius:10px;height:34px}
#filters{top:12px;left:12px;min-width:300px}
#settings{left:12px;bottom:12px;min-width:300px}
.hidden{display:none}
.legend{position:fixed;top:12px;right:12px;z-index:1200;background:rgba(20,22,24,.88);color:#eaeef2;border:1px solid rgba(255,255,255,.14);border-radius:14px;box-shadow:0 8px 28px rgba(0,0,0,.35);backdrop-filter:blur(6px);padding:10px 12px;font:14px/1.35 system-ui}
.zoomctl{position:fixed;right:12px;top:50%;transform:translateY(-50%);z-index:1200;display:flex;flex-direction:column;gap:10px}
.zbtn{width:48px;height:48px;border-radius:12px;background:rgba(20,22,24,.88);border:1px solid rgba(255,255,255,.14);color:#eaeef2;font:700 22px/1 system-ui;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.35)}
.zbtn:hover{background:rgba(255,255,255,.12)}
</style>
</head>
<body>
<div id="map"></div>

<div id="filters" class="panel">
  <div class="hdr">День недели</div>
  <select id="dow">
    <option value="1">1 — Пн</option><option value="2">2 — Вт</option><option value="3">3 — Ср</option><option value="4">4 — Чт</option><option value="5">5 — Пт</option><option value="6">6 — Сб</option><option value="7">7 — Вс</option>
  </select>
  <div class="hdr">Час (8–20): <b id="hourV">10</b></div>
  <input id="hour" type="range" min="8" max="20" step="1" value="10">
</div>

<div id="settings" class="panel compact">
  <div class="hdr" id="settingsToggle">Настройки</div>
  <div id="settingsBody" class="body hidden">
    <label>Размер кружков</label>
    <input id="size" type="range" min="1" max="10" step="1" value="4">
    <label>Прозрачность заливки зон</label>
    <input id="fill" type="range" min="0" max="100" step="1" value="50">
  </div>
</div>

<div id="legend" class="legend"></div>

<div class="zoomctl" id="zoomctl">
  <button class="zbtn" id="zin">+</button>
  <button class="zbtn" id="zout">−</button>
</div>

<script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
<script src="app.js"></script>
<script>
document.getElementById('settingsToggle').onclick=function(){var b=document.getElementById('settingsBody');b.classList.toggle('hidden')}
</script>
</body>
</html>
